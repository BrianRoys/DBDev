<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>DBDev by BrianRoys</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">DBDev</h1>
      <h2 class="project-tagline">Data Base Development tool</h2>
      <a href="https://github.com/BrianRoys/DBDev" class="btn">View on GitHub</a>
      <a href="https://github.com/BrianRoys/DBDev/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/BrianRoys/DBDev/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="dbdev" class="anchor" href="#dbdev" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DBDev</h3>

<p>DBDev aids in the maintinance of databases through the software development
life cycle by automating what is normally error prone manual work.</p>

<h2>
<a id="the-problem" class="anchor" href="#the-problem" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>The problem:</h2>

<p>Software development almost always involves a database. Done properly there should be a separate 
server for each phase: DEV, QA, UAT and PROD. Changes to DEV need to propagate to the others and
that is the problem: How to know what changes have been made to which servers and which haven't.</p>

<h2>
<a id="solution" class="anchor" href="#solution" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Solution:</h2>

<p>Stored Procedures, Views, Triggers and Functions need be created as script files, stored under 
the project folder (e.g. "c:\myProject\DB\Procs"). Then to update or synchronize a server just 
run all the scripts. It can be managed as a manual process but is only workable where there are
only a few scripts.</p>

<p>All (and I do mean ALL) DDL commands (creating, altering, dropping of the tables and indexes) 
should be performed as sequentially named script files also stored in a folder under the project 
folder (e.g. "c:\myProject\DB\Deltas"). Include everything as scripts: create a table, add a 
column to that table, drop that column, add an index to that table, change the index, etc. By
scripting all the deltas you can create the whole database; just run the sequence. One good 
way is to date each change file (e.g. 20160322A.sql). Also, include in the database a table
of all the scripts that have been run on this database so you can track what has and hasn't 
been run.</p>

<h2>
<a id="dbdev-handles-all-this-and-more-for-you" class="anchor" href="#dbdev-handles-all-this-and-more-for-you" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DBDev handles all this (and more) for you:</h2>

<p>1) If the database doesn't exist it creates it.
  2) If the deltas table doesn't exist it creates it.
  3) It compares the list of files in the deltas folder with the deltas table and runs, 
  in order, the un-run scripts and adds them to the table.
  4) It runs all the scripts in the procs folder to refresh the stored procedures.</p>

<h2>
<a id="required-parameters" class="anchor" href="#required-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Required Parameters:</h2>

<p>1) Connection string to the database.
  2) Name of the database (it doesn't need to exist on the given server yet).
  3) Path to the project (under which the db folder resides).</p>

<h2>
<a id="options" class="anchor" href="#options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Options:</h2>

<p>*NoWait                Don't wait for keystroke after run is finished.
*DeltaTable=_Delta     Name to store the delta scripts that have been run already.
*DBDir=DB              The sub-dir under the ProjectDir where the scripts persist.
*DeltaDir=Delta        The sub-dir under the DBDir where the delta scripts are stored.
*ProcDir=Proc          The sub-dir under the DBDir where the stored procedure scripts are stored.
*DeltasOnly|ProcsOnly  Either process just the deltas or just the stored procedure scripts.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/BrianRoys/DBDev">DBDev</a> is maintained by <a href="https://github.com/BrianRoys">BrianRoys</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
